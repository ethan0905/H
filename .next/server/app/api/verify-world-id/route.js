"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/verify-world-id/route";
exports.ids = ["app/api/verify-world-id/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fverify-world-id%2Froute&page=%2Fapi%2Fverify-world-id%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fverify-world-id%2Froute.ts&appDir=%2FUsers%2Fethan%2FDesktop%2FH%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fethan%2FDesktop%2FH&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fverify-world-id%2Froute&page=%2Fapi%2Fverify-world-id%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fverify-world-id%2Froute.ts&appDir=%2FUsers%2Fethan%2FDesktop%2FH%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fethan%2FDesktop%2FH&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_ethan_Desktop_H_src_app_api_verify_world_id_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/verify-world-id/route.ts */ \"(rsc)/./src/app/api/verify-world-id/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/verify-world-id/route\",\n        pathname: \"/api/verify-world-id\",\n        filename: \"route\",\n        bundlePath: \"app/api/verify-world-id/route\"\n    },\n    resolvedPagePath: \"/Users/ethan/Desktop/H/src/app/api/verify-world-id/route.ts\",\n    nextConfigOutput,\n    userland: _Users_ethan_Desktop_H_src_app_api_verify_world_id_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/verify-world-id/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ2ZXJpZnktd29ybGQtaWQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnZlcmlmeS13b3JsZC1pZCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnZlcmlmeS13b3JsZC1pZCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmV0aGFuJTJGRGVza3RvcCUyRkglMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGZXRoYW4lMkZEZXNrdG9wJTJGSCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDVztBQUN4RjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3gtd29ybGQtbWluaS1hcHAvPzE5NjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL2V0aGFuL0Rlc2t0b3AvSC9zcmMvYXBwL2FwaS92ZXJpZnktd29ybGQtaWQvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3ZlcmlmeS13b3JsZC1pZC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3ZlcmlmeS13b3JsZC1pZFwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvdmVyaWZ5LXdvcmxkLWlkL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL2V0aGFuL0Rlc2t0b3AvSC9zcmMvYXBwL2FwaS92ZXJpZnktd29ybGQtaWQvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3ZlcmlmeS13b3JsZC1pZC9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fverify-world-id%2Froute&page=%2Fapi%2Fverify-world-id%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fverify-world-id%2Froute.ts&appDir=%2FUsers%2Fethan%2FDesktop%2FH%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fethan%2FDesktop%2FH&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/verify-world-id/route.ts":
/*!**********************************************!*\
  !*** ./src/app/api/verify-world-id/route.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _worldcoin_idkit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @worldcoin/idkit */ \"(rsc)/./node_modules/@worldcoin/idkit/build/index.js\");\n\n\nasync function POST(request) {\n    try {\n        const proof = await request.json();\n        console.log(\"=== WORLD ID VERIFICATION DEBUG ===\");\n        console.log(\"1. RAW PROOF RECEIVED FROM WORLD ID:\");\n        console.log(JSON.stringify(proof, null, 2));\n        console.log(\"2. EXPECTED FORMAT FOR VERIFICATION:\");\n        console.log(JSON.stringify({\n            nullifier_hash: \"0x[64 hex characters]\",\n            merkle_root: \"0x[64 hex characters]\",\n            proof: \"0x[long hex string] OR [array of 8 numbers]\",\n            verification_level: \"orb or device\",\n            signal: \"optional signal string\"\n        }, null, 2));\n        console.log(\"3. VALIDATION RESULTS:\");\n        console.log({\n            hasProof: !!proof?.proof,\n            hasNullifierHash: !!proof?.nullifier_hash,\n            hasMerkleRoot: !!proof?.merkle_root,\n            hasVerificationLevel: !!proof?.verification_level,\n            proofType: typeof proof?.proof,\n            proofValue: proof?.proof ? Array.isArray(proof.proof) ? \"array\" : \"string\" : \"missing\",\n            allKeys: proof ? Object.keys(proof) : \"proof is null\"\n        });\n        // Validate required fields\n        if (!proof || !proof.proof || !proof.nullifier_hash || !proof.merkle_root) {\n            console.log(\"❌ VALIDATION FAILED - Missing required fields\");\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid proof format - missing required fields\",\n                debug:  true ? {\n                    received: proof,\n                    hasProof: !!proof?.proof,\n                    hasNullifierHash: !!proof?.nullifier_hash,\n                    hasMerkleRoot: !!proof?.merkle_root,\n                    keys: proof ? Object.keys(proof) : null\n                } : 0\n            }, {\n                status: 400\n            });\n        }\n        console.log(\"✅ VALIDATION PASSED - All required fields present\");\n        const app_id = \"app_69998f554169db259e9b4e23d9e329b8\";\n        const action = \"sign-in\";\n        if (!app_id || !action) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"App ID and action must be configured\"\n            }, {\n                status: 500\n            });\n        }\n        // Check if proof format needs conversion\n        console.log(\"4. PROOF FORMAT ANALYSIS:\");\n        if (typeof proof.proof === \"string\" && proof.proof.length < 200) {\n            console.log(\"⚠️  SHORT PROOF DETECTED - This might be test/invalid data\");\n            console.log(\"Proof length:\", proof.proof.length, \"characters\");\n            console.log(\"Real World ID proofs should be much longer (500+ characters)\");\n            // For development: provide a helpful error message\n            if (true) {\n                console.log(\"\\uD83D\\uDCA1 DEVELOPMENT TIP: Try scanning a real QR code with World App\");\n                console.log(\"   Test proofs will always fail. Real proofs should be properly formatted.\");\n            }\n        }\n        // Extract signal from proof (if provided)\n        const signal = proof.signal || \"\";\n        console.log(\"5. CALLING verifyCloudProof WITH:\");\n        console.log({\n            app_id,\n            action,\n            signal,\n            proof_structure: {\n                nullifier_hash: proof.nullifier_hash,\n                merkle_root: proof.merkle_root,\n                proof: typeof proof.proof === \"string\" ? proof.proof.substring(0, 50) + \"...\" : proof.proof,\n                verification_level: proof.verification_level\n            }\n        });\n        // Use IDKit's verifyCloudProof function for proper verification\n        const verifyResult = await (0,_worldcoin_idkit__WEBPACK_IMPORTED_MODULE_1__.verifyCloudProof)(proof, app_id, action, signal);\n        console.log(\"6. WORLD ID API RESPONSE:\");\n        console.log(JSON.stringify(verifyResult, null, 2));\n        if (verifyResult.success) {\n            console.log(\"✅ WORLD ID VERIFICATION SUCCESSFUL\");\n            // Check if this nullifier has been used before\n            const hasBeenUsed = await checkNullifierUsage(proof.nullifier_hash);\n            if (hasBeenUsed) {\n                console.log(\"❌ NULLIFIER ALREADY USED\");\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"This World ID has already been used\"\n                }, {\n                    status: 400\n                });\n            }\n            // Store the nullifier hash to prevent reuse\n            await storeNullifierHash(proof.nullifier_hash);\n            console.log(\"✅ NULLIFIER STORED, VERIFICATION COMPLETE\");\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                verified: true,\n                verification_level: proof.verification_level,\n                nullifier_hash: proof.nullifier_hash\n            });\n        } else {\n            console.log(\"❌ WORLD ID VERIFICATION FAILED\");\n            console.log(\"7. COMPARISON ANALYSIS:\");\n            console.log(\"Error code:\", verifyResult.code);\n            console.log(\"Error attribute:\", verifyResult.attribute);\n            console.log(\"Error detail:\", verifyResult.detail);\n            if (verifyResult.code === \"invalid_format\" && verifyResult.attribute === \"proof\") {\n                console.log(\"\\n\\uD83D\\uDD0D DETAILED PROOF FORMAT ANALYSIS:\");\n                console.log(\"Received proof type:\", typeof proof.proof);\n                console.log(\"Received proof value:\", Array.isArray(proof.proof) ? \"Array with length: \" + proof.proof.length : \"String with length: \" + proof.proof?.length);\n                if (typeof proof.proof === \"string\") {\n                    console.log(\"String proof preview:\", proof.proof.substring(0, 100) + \"...\");\n                    console.log(\"Full string length:\", proof.proof.length);\n                    console.log(\"Starts with 0x?\", proof.proof.startsWith(\"0x\"));\n                    // Check if it's a short test proof\n                    if (proof.proof.length < 200) {\n                        console.log(\"⚠️  This appears to be a test/mock proof (too short)\");\n                        console.log(\"Real World ID proofs are typically 500+ characters\");\n                    }\n                    console.log(\"\\n\\uD83D\\uDCCB EXPECTED FORMATS:\");\n                    console.log(\"Option 1: ABI-encoded proof string (long hex string)\");\n                    console.log(\"Option 2: Array of 8 uint256 numbers: [a, b, c, d, e, f, g, h]\");\n                    console.log('Option 3: JSON array of 8 strings: [\"0x...\", \"0x...\", ...]');\n                } else if (Array.isArray(proof.proof)) {\n                    console.log(\"Array proof contents:\", proof.proof);\n                    console.log(\"Array length:\", proof.proof.length);\n                    console.log(\"Expected array length: 8\");\n                    if (proof.proof.length !== 8) {\n                        console.log(\"❌ Incorrect array length - should be 8 elements\");\n                    }\n                    proof.proof.forEach((element, index)=>{\n                        console.log(`Element ${index}: ${typeof element} = ${element}`);\n                    });\n                }\n                console.log(\"\\n\\uD83D\\uDCA1 SUGGESTIONS:\");\n                console.log(\"1. If this is a real scan, the frontend might need to format the proof differently\");\n                console.log(\"2. Check if IDKit is returning the proof in an unexpected format\");\n                console.log(\"3. The proof might need conversion before sending to verifyCloudProof\");\n            } else {\n                console.log(\"Non-proof error details:\", verifyResult);\n            }\n            console.log(\"=== END DEBUG ===\");\n            // Development fallback - allow failed verification for testing\n            if ( true && process.env.ALLOW_FAILED_VERIFICATION === \"true\") {\n                console.log(\"⚠️  DEVELOPMENT MODE: Allowing failed verification to proceed\");\n                console.log(\"   Set ALLOW_FAILED_VERIFICATION=false to disable this behavior\");\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: true,\n                    verified: false,\n                    verification_level: \"development_bypass\",\n                    nullifier_hash: proof.nullifier_hash || \"dev_nullifier\",\n                    dev_note: \"Verification failed but allowed through for development testing\"\n                });\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"World ID verification failed\",\n                details: verifyResult,\n                help:  true && verifyResult.code === \"invalid_format\" ? \"This error often occurs when testing with mock data. Real World ID proofs from the QR scan should have the correct format. Set ALLOW_FAILED_VERIFICATION=true in .env.local to bypass for testing.\" : undefined\n            }, {\n                status: 400\n            });\n        }\n    } catch (error) {\n        console.error(\"Error verifying World ID:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to verify World ID\",\n            message: error instanceof Error ? error.message : \"Unknown error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// In-memory storage for demo - use database in production\nconst usedNullifiers = new Set();\nasync function checkNullifierUsage(nullifierHash) {\n    return usedNullifiers.has(nullifierHash);\n}\nasync function storeNullifierHash(nullifierHash) {\n    usedNullifiers.add(nullifierHash);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS92ZXJpZnktd29ybGQtaWQvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXdEO0FBQ0o7QUFFN0MsZUFBZUUsS0FBS0MsT0FBb0I7SUFDN0MsSUFBSTtRQUNGLE1BQU1DLFFBQVEsTUFBTUQsUUFBUUUsSUFBSTtRQUVoQ0MsUUFBUUMsR0FBRyxDQUFDO1FBQ1pELFFBQVFDLEdBQUcsQ0FBQztRQUNaRCxRQUFRQyxHQUFHLENBQUNDLEtBQUtDLFNBQVMsQ0FBQ0wsT0FBTyxNQUFNO1FBRXhDRSxRQUFRQyxHQUFHLENBQUM7UUFDWkQsUUFBUUMsR0FBRyxDQUFDQyxLQUFLQyxTQUFTLENBQUM7WUFDekJDLGdCQUFnQjtZQUNoQkMsYUFBYTtZQUNiUCxPQUFPO1lBQ1BRLG9CQUFvQjtZQUNwQkMsUUFBUTtRQUNWLEdBQUcsTUFBTTtRQUVUUCxRQUFRQyxHQUFHLENBQUM7UUFDWkQsUUFBUUMsR0FBRyxDQUFDO1lBQ1ZPLFVBQVUsQ0FBQyxDQUFDVixPQUFPQTtZQUNuQlcsa0JBQWtCLENBQUMsQ0FBQ1gsT0FBT007WUFDM0JNLGVBQWUsQ0FBQyxDQUFDWixPQUFPTztZQUN4Qk0sc0JBQXNCLENBQUMsQ0FBQ2IsT0FBT1E7WUFDL0JNLFdBQVcsT0FBT2QsT0FBT0E7WUFDekJlLFlBQVlmLE9BQU9BLFFBQVNnQixNQUFNQyxPQUFPLENBQUNqQixNQUFNQSxLQUFLLElBQUksVUFBVSxXQUFZO1lBQy9Fa0IsU0FBU2xCLFFBQVFtQixPQUFPQyxJQUFJLENBQUNwQixTQUFTO1FBQ3hDO1FBRUEsMkJBQTJCO1FBQzNCLElBQUksQ0FBQ0EsU0FBUyxDQUFDQSxNQUFNQSxLQUFLLElBQUksQ0FBQ0EsTUFBTU0sY0FBYyxJQUFJLENBQUNOLE1BQU1PLFdBQVcsRUFBRTtZQUN6RUwsUUFBUUMsR0FBRyxDQUFDO1lBQ1osT0FBT1AscURBQVlBLENBQUNLLElBQUksQ0FDdEI7Z0JBQ0VvQixPQUFPO2dCQUNQQyxPQUFPQyxLQUF5QixHQUFnQjtvQkFDOUNDLFVBQVV4QjtvQkFDVlUsVUFBVSxDQUFDLENBQUNWLE9BQU9BO29CQUNuQlcsa0JBQWtCLENBQUMsQ0FBQ1gsT0FBT007b0JBQzNCTSxlQUFlLENBQUMsQ0FBQ1osT0FBT087b0JBQ3hCYSxNQUFNcEIsUUFBUW1CLE9BQU9DLElBQUksQ0FBQ3BCLFNBQVM7Z0JBQ3JDLElBQUl5QixDQUFTQTtZQUNmLEdBQ0E7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBeEIsUUFBUUMsR0FBRyxDQUFDO1FBRVosTUFBTXdCLFNBQVNKLHNDQUFvQztRQUNuRCxNQUFNTyxTQUFTUCxTQUF1QztRQUV0RCxJQUFJLENBQUNJLFVBQVUsQ0FBQ0csUUFBUTtZQUN0QixPQUFPbEMscURBQVlBLENBQUNLLElBQUksQ0FDdEI7Z0JBQUVvQixPQUFPO1lBQXVDLEdBQ2hEO2dCQUFFSyxRQUFRO1lBQUk7UUFFbEI7UUFFQSx5Q0FBeUM7UUFDekN4QixRQUFRQyxHQUFHLENBQUM7UUFDWixJQUFJLE9BQU9ILE1BQU1BLEtBQUssS0FBSyxZQUFZQSxNQUFNQSxLQUFLLENBQUNnQyxNQUFNLEdBQUcsS0FBSztZQUMvRDlCLFFBQVFDLEdBQUcsQ0FBQztZQUNaRCxRQUFRQyxHQUFHLENBQUMsaUJBQWlCSCxNQUFNQSxLQUFLLENBQUNnQyxNQUFNLEVBQUU7WUFDakQ5QixRQUFRQyxHQUFHLENBQUM7WUFFWixtREFBbUQ7WUFDbkQsSUFBSW9CLElBQXlCLEVBQWU7Z0JBQzFDckIsUUFBUUMsR0FBRyxDQUFDO2dCQUNaRCxRQUFRQyxHQUFHLENBQUM7WUFDZDtRQUNGO1FBRUEsMENBQTBDO1FBQzFDLE1BQU1NLFNBQVNULE1BQU1TLE1BQU0sSUFBSTtRQUUvQlAsUUFBUUMsR0FBRyxDQUFDO1FBQ1pELFFBQVFDLEdBQUcsQ0FBQztZQUNWd0I7WUFDQUc7WUFDQXJCO1lBQ0F3QixpQkFBaUI7Z0JBQ2YzQixnQkFBZ0JOLE1BQU1NLGNBQWM7Z0JBQ3BDQyxhQUFhUCxNQUFNTyxXQUFXO2dCQUM5QlAsT0FBTyxPQUFPQSxNQUFNQSxLQUFLLEtBQUssV0FBV0EsTUFBTUEsS0FBSyxDQUFDa0MsU0FBUyxDQUFDLEdBQUcsTUFBTSxRQUFRbEMsTUFBTUEsS0FBSztnQkFDM0ZRLG9CQUFvQlIsTUFBTVEsa0JBQWtCO1lBQzlDO1FBQ0Y7UUFFQSxnRUFBZ0U7UUFDaEUsTUFBTTJCLGVBQWUsTUFBTXRDLGtFQUFnQkEsQ0FBQ0csT0FBTzJCLFFBQTJCRyxRQUFRckI7UUFFdEZQLFFBQVFDLEdBQUcsQ0FBQztRQUNaRCxRQUFRQyxHQUFHLENBQUNDLEtBQUtDLFNBQVMsQ0FBQzhCLGNBQWMsTUFBTTtRQUUvQyxJQUFJQSxhQUFhQyxPQUFPLEVBQUU7WUFDeEJsQyxRQUFRQyxHQUFHLENBQUM7WUFFWiwrQ0FBK0M7WUFDL0MsTUFBTWtDLGNBQWMsTUFBTUMsb0JBQW9CdEMsTUFBTU0sY0FBYztZQUNsRSxJQUFJK0IsYUFBYTtnQkFDZm5DLFFBQVFDLEdBQUcsQ0FBQztnQkFDWixPQUFPUCxxREFBWUEsQ0FBQ0ssSUFBSSxDQUN0QjtvQkFBRW9CLE9BQU87Z0JBQXNDLEdBQy9DO29CQUFFSyxRQUFRO2dCQUFJO1lBRWxCO1lBRUEsNENBQTRDO1lBQzVDLE1BQU1hLG1CQUFtQnZDLE1BQU1NLGNBQWM7WUFDN0NKLFFBQVFDLEdBQUcsQ0FBQztZQUVaLE9BQU9QLHFEQUFZQSxDQUFDSyxJQUFJLENBQUM7Z0JBQ3ZCbUMsU0FBUztnQkFDVEksVUFBVTtnQkFDVmhDLG9CQUFvQlIsTUFBTVEsa0JBQWtCO2dCQUM1Q0YsZ0JBQWdCTixNQUFNTSxjQUFjO1lBQ3RDO1FBQ0YsT0FBTztZQUNMSixRQUFRQyxHQUFHLENBQUM7WUFDWkQsUUFBUUMsR0FBRyxDQUFDO1lBQ1pELFFBQVFDLEdBQUcsQ0FBQyxlQUFlZ0MsYUFBYU0sSUFBSTtZQUM1Q3ZDLFFBQVFDLEdBQUcsQ0FBQyxvQkFBb0JnQyxhQUFhTyxTQUFTO1lBQ3REeEMsUUFBUUMsR0FBRyxDQUFDLGlCQUFpQmdDLGFBQWFRLE1BQU07WUFFaEQsSUFBSVIsYUFBYU0sSUFBSSxLQUFLLG9CQUFvQk4sYUFBYU8sU0FBUyxLQUFLLFNBQVM7Z0JBQ2hGeEMsUUFBUUMsR0FBRyxDQUFDO2dCQUNaRCxRQUFRQyxHQUFHLENBQUMsd0JBQXdCLE9BQU9ILE1BQU1BLEtBQUs7Z0JBQ3RERSxRQUFRQyxHQUFHLENBQUMseUJBQXlCYSxNQUFNQyxPQUFPLENBQUNqQixNQUFNQSxLQUFLLElBQUksd0JBQXdCQSxNQUFNQSxLQUFLLENBQUNnQyxNQUFNLEdBQUcseUJBQXlCaEMsTUFBTUEsS0FBSyxFQUFFZ0M7Z0JBRXJKLElBQUksT0FBT2hDLE1BQU1BLEtBQUssS0FBSyxVQUFVO29CQUNuQ0UsUUFBUUMsR0FBRyxDQUFDLHlCQUF5QkgsTUFBTUEsS0FBSyxDQUFDa0MsU0FBUyxDQUFDLEdBQUcsT0FBTztvQkFDckVoQyxRQUFRQyxHQUFHLENBQUMsdUJBQXVCSCxNQUFNQSxLQUFLLENBQUNnQyxNQUFNO29CQUNyRDlCLFFBQVFDLEdBQUcsQ0FBQyxtQkFBbUJILE1BQU1BLEtBQUssQ0FBQzRDLFVBQVUsQ0FBQztvQkFFdEQsbUNBQW1DO29CQUNuQyxJQUFJNUMsTUFBTUEsS0FBSyxDQUFDZ0MsTUFBTSxHQUFHLEtBQUs7d0JBQzVCOUIsUUFBUUMsR0FBRyxDQUFDO3dCQUNaRCxRQUFRQyxHQUFHLENBQUM7b0JBQ2Q7b0JBRUFELFFBQVFDLEdBQUcsQ0FBQztvQkFDWkQsUUFBUUMsR0FBRyxDQUFDO29CQUNaRCxRQUFRQyxHQUFHLENBQUM7b0JBQ1pELFFBQVFDLEdBQUcsQ0FBQztnQkFDZCxPQUFPLElBQUlhLE1BQU1DLE9BQU8sQ0FBQ2pCLE1BQU1BLEtBQUssR0FBRztvQkFDckNFLFFBQVFDLEdBQUcsQ0FBQyx5QkFBeUJILE1BQU1BLEtBQUs7b0JBQ2hERSxRQUFRQyxHQUFHLENBQUMsaUJBQWlCSCxNQUFNQSxLQUFLLENBQUNnQyxNQUFNO29CQUMvQzlCLFFBQVFDLEdBQUcsQ0FBQztvQkFFWixJQUFJSCxNQUFNQSxLQUFLLENBQUNnQyxNQUFNLEtBQUssR0FBRzt3QkFDNUI5QixRQUFRQyxHQUFHLENBQUM7b0JBQ2Q7b0JBRUFILE1BQU1BLEtBQUssQ0FBQzZDLE9BQU8sQ0FBQyxDQUFDQyxTQUFjQzt3QkFDakM3QyxRQUFRQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUU0QyxNQUFNLEVBQUUsRUFBRSxPQUFPRCxRQUFRLEdBQUcsRUFBRUEsUUFBUSxDQUFDO29CQUNoRTtnQkFDRjtnQkFFQTVDLFFBQVFDLEdBQUcsQ0FBQztnQkFDWkQsUUFBUUMsR0FBRyxDQUFDO2dCQUNaRCxRQUFRQyxHQUFHLENBQUM7Z0JBQ1pELFFBQVFDLEdBQUcsQ0FBQztZQUNkLE9BQU87Z0JBQ0xELFFBQVFDLEdBQUcsQ0FBQyw0QkFBNEJnQztZQUMxQztZQUVBakMsUUFBUUMsR0FBRyxDQUFDO1lBRVosK0RBQStEO1lBQy9ELElBQUlvQixLQUF5QixJQUFpQkEsUUFBUUssR0FBRyxDQUFDb0IseUJBQXlCLEtBQUssUUFBUTtnQkFDOUY5QyxRQUFRQyxHQUFHLENBQUM7Z0JBQ1pELFFBQVFDLEdBQUcsQ0FBQztnQkFFWixPQUFPUCxxREFBWUEsQ0FBQ0ssSUFBSSxDQUFDO29CQUN2Qm1DLFNBQVM7b0JBQ1RJLFVBQVU7b0JBQ1ZoQyxvQkFBb0I7b0JBQ3BCRixnQkFBZ0JOLE1BQU1NLGNBQWMsSUFBSTtvQkFDeEMyQyxVQUFVO2dCQUNaO1lBQ0Y7WUFFQSxPQUFPckQscURBQVlBLENBQUNLLElBQUksQ0FDdEI7Z0JBQ0VvQixPQUFPO2dCQUNQNkIsU0FBU2Y7Z0JBQ1RnQixNQUFNNUIsS0FBeUIsSUFBaUJZLGFBQWFNLElBQUksS0FBSyxtQkFDbEUsdU1BQ0FoQjtZQUNOLEdBQ0E7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtJQUNGLEVBQUUsT0FBT0wsT0FBTztRQUNkbkIsUUFBUW1CLEtBQUssQ0FBQyw2QkFBNkJBO1FBQzNDLE9BQU96QixxREFBWUEsQ0FBQ0ssSUFBSSxDQUN0QjtZQUNFb0IsT0FBTztZQUNQK0IsU0FBUy9CLGlCQUFpQmdDLFFBQVFoQyxNQUFNK0IsT0FBTyxHQUFHO1FBQ3BELEdBQ0E7WUFBRTFCLFFBQVE7UUFBSTtJQUVsQjtBQUNGO0FBRUEsMERBQTBEO0FBQzFELE1BQU00QixpQkFBaUIsSUFBSUM7QUFFM0IsZUFBZWpCLG9CQUFvQmtCLGFBQXFCO0lBQ3RELE9BQU9GLGVBQWVHLEdBQUcsQ0FBQ0Q7QUFDNUI7QUFFQSxlQUFlakIsbUJBQW1CaUIsYUFBcUI7SUFDckRGLGVBQWVJLEdBQUcsQ0FBQ0Y7QUFDckIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly94LXdvcmxkLW1pbmktYXBwLy4vc3JjL2FwcC9hcGkvdmVyaWZ5LXdvcmxkLWlkL3JvdXRlLnRzPzE2ZDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IHZlcmlmeUNsb3VkUHJvb2YgfSBmcm9tICdAd29ybGRjb2luL2lka2l0JztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBwcm9vZiA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCc9PT0gV09STEQgSUQgVkVSSUZJQ0FUSU9OIERFQlVHID09PScpO1xuICAgIGNvbnNvbGUubG9nKCcxLiBSQVcgUFJPT0YgUkVDRUlWRUQgRlJPTSBXT1JMRCBJRDonKTtcbiAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShwcm9vZiwgbnVsbCwgMikpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCcyLiBFWFBFQ1RFRCBGT1JNQVQgRk9SIFZFUklGSUNBVElPTjonKTtcbiAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeSh7XG4gICAgICBudWxsaWZpZXJfaGFzaDogXCIweFs2NCBoZXggY2hhcmFjdGVyc11cIixcbiAgICAgIG1lcmtsZV9yb290OiBcIjB4WzY0IGhleCBjaGFyYWN0ZXJzXVwiLCBcbiAgICAgIHByb29mOiBcIjB4W2xvbmcgaGV4IHN0cmluZ10gT1IgW2FycmF5IG9mIDggbnVtYmVyc11cIixcbiAgICAgIHZlcmlmaWNhdGlvbl9sZXZlbDogXCJvcmIgb3IgZGV2aWNlXCIsXG4gICAgICBzaWduYWw6IFwib3B0aW9uYWwgc2lnbmFsIHN0cmluZ1wiXG4gICAgfSwgbnVsbCwgMikpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCczLiBWQUxJREFUSU9OIFJFU1VMVFM6Jyk7XG4gICAgY29uc29sZS5sb2coe1xuICAgICAgaGFzUHJvb2Y6ICEhcHJvb2Y/LnByb29mLFxuICAgICAgaGFzTnVsbGlmaWVySGFzaDogISFwcm9vZj8ubnVsbGlmaWVyX2hhc2gsXG4gICAgICBoYXNNZXJrbGVSb290OiAhIXByb29mPy5tZXJrbGVfcm9vdCxcbiAgICAgIGhhc1ZlcmlmaWNhdGlvbkxldmVsOiAhIXByb29mPy52ZXJpZmljYXRpb25fbGV2ZWwsXG4gICAgICBwcm9vZlR5cGU6IHR5cGVvZiBwcm9vZj8ucHJvb2YsXG4gICAgICBwcm9vZlZhbHVlOiBwcm9vZj8ucHJvb2YgPyAoQXJyYXkuaXNBcnJheShwcm9vZi5wcm9vZikgPyAnYXJyYXknIDogJ3N0cmluZycpIDogJ21pc3NpbmcnLFxuICAgICAgYWxsS2V5czogcHJvb2YgPyBPYmplY3Qua2V5cyhwcm9vZikgOiAncHJvb2YgaXMgbnVsbCdcbiAgICB9KTtcblxuICAgIC8vIFZhbGlkYXRlIHJlcXVpcmVkIGZpZWxkc1xuICAgIGlmICghcHJvb2YgfHwgIXByb29mLnByb29mIHx8ICFwcm9vZi5udWxsaWZpZXJfaGFzaCB8fCAhcHJvb2YubWVya2xlX3Jvb3QpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfinYwgVkFMSURBVElPTiBGQUlMRUQgLSBNaXNzaW5nIHJlcXVpcmVkIGZpZWxkcycpO1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IFxuICAgICAgICAgIGVycm9yOiAnSW52YWxpZCBwcm9vZiBmb3JtYXQgLSBtaXNzaW5nIHJlcXVpcmVkIGZpZWxkcycsXG4gICAgICAgICAgZGVidWc6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnID8ge1xuICAgICAgICAgICAgcmVjZWl2ZWQ6IHByb29mLFxuICAgICAgICAgICAgaGFzUHJvb2Y6ICEhcHJvb2Y/LnByb29mLFxuICAgICAgICAgICAgaGFzTnVsbGlmaWVySGFzaDogISFwcm9vZj8ubnVsbGlmaWVyX2hhc2gsXG4gICAgICAgICAgICBoYXNNZXJrbGVSb290OiAhIXByb29mPy5tZXJrbGVfcm9vdCxcbiAgICAgICAgICAgIGtleXM6IHByb29mID8gT2JqZWN0LmtleXMocHJvb2YpIDogbnVsbFxuICAgICAgICAgIH0gOiB1bmRlZmluZWRcbiAgICAgICAgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygn4pyFIFZBTElEQVRJT04gUEFTU0VEIC0gQWxsIHJlcXVpcmVkIGZpZWxkcyBwcmVzZW50Jyk7XG5cbiAgICBjb25zdCBhcHBfaWQgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19XT1JMRF9BUFBfSUQ7XG4gICAgY29uc3QgYWN0aW9uID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfV09STERfSURfQUNUSU9OO1xuXG4gICAgaWYgKCFhcHBfaWQgfHwgIWFjdGlvbikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnQXBwIElEIGFuZCBhY3Rpb24gbXVzdCBiZSBjb25maWd1cmVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNTAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgcHJvb2YgZm9ybWF0IG5lZWRzIGNvbnZlcnNpb25cbiAgICBjb25zb2xlLmxvZygnNC4gUFJPT0YgRk9STUFUIEFOQUxZU0lTOicpO1xuICAgIGlmICh0eXBlb2YgcHJvb2YucHJvb2YgPT09ICdzdHJpbmcnICYmIHByb29mLnByb29mLmxlbmd0aCA8IDIwMCkge1xuICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyAgU0hPUlQgUFJPT0YgREVURUNURUQgLSBUaGlzIG1pZ2h0IGJlIHRlc3QvaW52YWxpZCBkYXRhJyk7XG4gICAgICBjb25zb2xlLmxvZygnUHJvb2YgbGVuZ3RoOicsIHByb29mLnByb29mLmxlbmd0aCwgJ2NoYXJhY3RlcnMnKTtcbiAgICAgIGNvbnNvbGUubG9nKCdSZWFsIFdvcmxkIElEIHByb29mcyBzaG91bGQgYmUgbXVjaCBsb25nZXIgKDUwMCsgY2hhcmFjdGVycyknKTtcbiAgICAgIFxuICAgICAgLy8gRm9yIGRldmVsb3BtZW50OiBwcm92aWRlIGEgaGVscGZ1bCBlcnJvciBtZXNzYWdlXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CfkqEgREVWRUxPUE1FTlQgVElQOiBUcnkgc2Nhbm5pbmcgYSByZWFsIFFSIGNvZGUgd2l0aCBXb3JsZCBBcHAnKTtcbiAgICAgICAgY29uc29sZS5sb2coJyAgIFRlc3QgcHJvb2ZzIHdpbGwgYWx3YXlzIGZhaWwuIFJlYWwgcHJvb2ZzIHNob3VsZCBiZSBwcm9wZXJseSBmb3JtYXR0ZWQuJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRXh0cmFjdCBzaWduYWwgZnJvbSBwcm9vZiAoaWYgcHJvdmlkZWQpXG4gICAgY29uc3Qgc2lnbmFsID0gcHJvb2Yuc2lnbmFsIHx8ICcnO1xuXG4gICAgY29uc29sZS5sb2coJzUuIENBTExJTkcgdmVyaWZ5Q2xvdWRQcm9vZiBXSVRIOicpO1xuICAgIGNvbnNvbGUubG9nKHtcbiAgICAgIGFwcF9pZCxcbiAgICAgIGFjdGlvbixcbiAgICAgIHNpZ25hbCxcbiAgICAgIHByb29mX3N0cnVjdHVyZToge1xuICAgICAgICBudWxsaWZpZXJfaGFzaDogcHJvb2YubnVsbGlmaWVyX2hhc2gsXG4gICAgICAgIG1lcmtsZV9yb290OiBwcm9vZi5tZXJrbGVfcm9vdCxcbiAgICAgICAgcHJvb2Y6IHR5cGVvZiBwcm9vZi5wcm9vZiA9PT0gJ3N0cmluZycgPyBwcm9vZi5wcm9vZi5zdWJzdHJpbmcoMCwgNTApICsgJy4uLicgOiBwcm9vZi5wcm9vZixcbiAgICAgICAgdmVyaWZpY2F0aW9uX2xldmVsOiBwcm9vZi52ZXJpZmljYXRpb25fbGV2ZWxcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFVzZSBJREtpdCdzIHZlcmlmeUNsb3VkUHJvb2YgZnVuY3Rpb24gZm9yIHByb3BlciB2ZXJpZmljYXRpb25cbiAgICBjb25zdCB2ZXJpZnlSZXN1bHQgPSBhd2FpdCB2ZXJpZnlDbG91ZFByb29mKHByb29mLCBhcHBfaWQgYXMgYGFwcF8ke3N0cmluZ31gLCBhY3Rpb24sIHNpZ25hbCk7XG4gICAgXG4gICAgY29uc29sZS5sb2coJzYuIFdPUkxEIElEIEFQSSBSRVNQT05TRTonKTtcbiAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeSh2ZXJpZnlSZXN1bHQsIG51bGwsIDIpKTtcblxuICAgIGlmICh2ZXJpZnlSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgY29uc29sZS5sb2coJ+KchSBXT1JMRCBJRCBWRVJJRklDQVRJT04gU1VDQ0VTU0ZVTCcpO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiB0aGlzIG51bGxpZmllciBoYXMgYmVlbiB1c2VkIGJlZm9yZVxuICAgICAgY29uc3QgaGFzQmVlblVzZWQgPSBhd2FpdCBjaGVja051bGxpZmllclVzYWdlKHByb29mLm51bGxpZmllcl9oYXNoKTtcbiAgICAgIGlmIChoYXNCZWVuVXNlZCkge1xuICAgICAgICBjb25zb2xlLmxvZygn4p2MIE5VTExJRklFUiBBTFJFQURZIFVTRUQnKTtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgIHsgZXJyb3I6ICdUaGlzIFdvcmxkIElEIGhhcyBhbHJlYWR5IGJlZW4gdXNlZCcgfSxcbiAgICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gU3RvcmUgdGhlIG51bGxpZmllciBoYXNoIHRvIHByZXZlbnQgcmV1c2VcbiAgICAgIGF3YWl0IHN0b3JlTnVsbGlmaWVySGFzaChwcm9vZi5udWxsaWZpZXJfaGFzaCk7XG4gICAgICBjb25zb2xlLmxvZygn4pyFIE5VTExJRklFUiBTVE9SRUQsIFZFUklGSUNBVElPTiBDT01QTEVURScpO1xuXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICB2ZXJpZmllZDogdHJ1ZSxcbiAgICAgICAgdmVyaWZpY2F0aW9uX2xldmVsOiBwcm9vZi52ZXJpZmljYXRpb25fbGV2ZWwsXG4gICAgICAgIG51bGxpZmllcl9oYXNoOiBwcm9vZi5udWxsaWZpZXJfaGFzaCxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZygn4p2MIFdPUkxEIElEIFZFUklGSUNBVElPTiBGQUlMRUQnKTtcbiAgICAgIGNvbnNvbGUubG9nKCc3LiBDT01QQVJJU09OIEFOQUxZU0lTOicpO1xuICAgICAgY29uc29sZS5sb2coJ0Vycm9yIGNvZGU6JywgdmVyaWZ5UmVzdWx0LmNvZGUpO1xuICAgICAgY29uc29sZS5sb2coJ0Vycm9yIGF0dHJpYnV0ZTonLCB2ZXJpZnlSZXN1bHQuYXR0cmlidXRlKTtcbiAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBkZXRhaWw6JywgdmVyaWZ5UmVzdWx0LmRldGFpbCk7XG4gICAgICBcbiAgICAgIGlmICh2ZXJpZnlSZXN1bHQuY29kZSA9PT0gJ2ludmFsaWRfZm9ybWF0JyAmJiB2ZXJpZnlSZXN1bHQuYXR0cmlidXRlID09PSAncHJvb2YnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdcXG7wn5SNIERFVEFJTEVEIFBST09GIEZPUk1BVCBBTkFMWVNJUzonKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1JlY2VpdmVkIHByb29mIHR5cGU6JywgdHlwZW9mIHByb29mLnByb29mKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1JlY2VpdmVkIHByb29mIHZhbHVlOicsIEFycmF5LmlzQXJyYXkocHJvb2YucHJvb2YpID8gJ0FycmF5IHdpdGggbGVuZ3RoOiAnICsgcHJvb2YucHJvb2YubGVuZ3RoIDogJ1N0cmluZyB3aXRoIGxlbmd0aDogJyArIHByb29mLnByb29mPy5sZW5ndGgpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9vZi5wcm9vZiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnU3RyaW5nIHByb29mIHByZXZpZXc6JywgcHJvb2YucHJvb2Yuc3Vic3RyaW5nKDAsIDEwMCkgKyAnLi4uJyk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0Z1bGwgc3RyaW5nIGxlbmd0aDonLCBwcm9vZi5wcm9vZi5sZW5ndGgpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdTdGFydHMgd2l0aCAweD8nLCBwcm9vZi5wcm9vZi5zdGFydHNXaXRoKCcweCcpKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDaGVjayBpZiBpdCdzIGEgc2hvcnQgdGVzdCBwcm9vZlxuICAgICAgICAgIGlmIChwcm9vZi5wcm9vZi5sZW5ndGggPCAyMDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8gIFRoaXMgYXBwZWFycyB0byBiZSBhIHRlc3QvbW9jayBwcm9vZiAodG9vIHNob3J0KScpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1JlYWwgV29ybGQgSUQgcHJvb2ZzIGFyZSB0eXBpY2FsbHkgNTAwKyBjaGFyYWN0ZXJzJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGNvbnNvbGUubG9nKCdcXG7wn5OLIEVYUEVDVEVEIEZPUk1BVFM6Jyk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ09wdGlvbiAxOiBBQkktZW5jb2RlZCBwcm9vZiBzdHJpbmcgKGxvbmcgaGV4IHN0cmluZyknKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnT3B0aW9uIDI6IEFycmF5IG9mIDggdWludDI1NiBudW1iZXJzOiBbYSwgYiwgYywgZCwgZSwgZiwgZywgaF0nKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnT3B0aW9uIDM6IEpTT04gYXJyYXkgb2YgOCBzdHJpbmdzOiBbXCIweC4uLlwiLCBcIjB4Li4uXCIsIC4uLl0nKTtcbiAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHByb29mLnByb29mKSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdBcnJheSBwcm9vZiBjb250ZW50czonLCBwcm9vZi5wcm9vZik7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0FycmF5IGxlbmd0aDonLCBwcm9vZi5wcm9vZi5sZW5ndGgpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdFeHBlY3RlZCBhcnJheSBsZW5ndGg6IDgnKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAocHJvb2YucHJvb2YubGVuZ3RoICE9PSA4KSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4p2MIEluY29ycmVjdCBhcnJheSBsZW5ndGggLSBzaG91bGQgYmUgOCBlbGVtZW50cycpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBwcm9vZi5wcm9vZi5mb3JFYWNoKChlbGVtZW50OiBhbnksIGluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBFbGVtZW50ICR7aW5kZXh9OiAke3R5cGVvZiBlbGVtZW50fSA9ICR7ZWxlbWVudH1gKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coJ1xcbvCfkqEgU1VHR0VTVElPTlM6Jyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCcxLiBJZiB0aGlzIGlzIGEgcmVhbCBzY2FuLCB0aGUgZnJvbnRlbmQgbWlnaHQgbmVlZCB0byBmb3JtYXQgdGhlIHByb29mIGRpZmZlcmVudGx5Jyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCcyLiBDaGVjayBpZiBJREtpdCBpcyByZXR1cm5pbmcgdGhlIHByb29mIGluIGFuIHVuZXhwZWN0ZWQgZm9ybWF0Jyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCczLiBUaGUgcHJvb2YgbWlnaHQgbmVlZCBjb252ZXJzaW9uIGJlZm9yZSBzZW5kaW5nIHRvIHZlcmlmeUNsb3VkUHJvb2YnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdOb24tcHJvb2YgZXJyb3IgZGV0YWlsczonLCB2ZXJpZnlSZXN1bHQpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnPT09IEVORCBERUJVRyA9PT0nKTtcbiAgICAgIFxuICAgICAgLy8gRGV2ZWxvcG1lbnQgZmFsbGJhY2sgLSBhbGxvdyBmYWlsZWQgdmVyaWZpY2F0aW9uIGZvciB0ZXN0aW5nXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgJiYgcHJvY2Vzcy5lbnYuQUxMT1dfRkFJTEVEX1ZFUklGSUNBVElPTiA9PT0gJ3RydWUnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8gIERFVkVMT1BNRU5UIE1PREU6IEFsbG93aW5nIGZhaWxlZCB2ZXJpZmljYXRpb24gdG8gcHJvY2VlZCcpO1xuICAgICAgICBjb25zb2xlLmxvZygnICAgU2V0IEFMTE9XX0ZBSUxFRF9WRVJJRklDQVRJT049ZmFsc2UgdG8gZGlzYWJsZSB0aGlzIGJlaGF2aW9yJyk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgdmVyaWZpZWQ6IGZhbHNlLCAvLyBNYXJrIGFzIHVudmVyaWZpZWQgYnV0IGFsbG93IHRocm91Z2hcbiAgICAgICAgICB2ZXJpZmljYXRpb25fbGV2ZWw6ICdkZXZlbG9wbWVudF9ieXBhc3MnLFxuICAgICAgICAgIG51bGxpZmllcl9oYXNoOiBwcm9vZi5udWxsaWZpZXJfaGFzaCB8fCAnZGV2X251bGxpZmllcicsXG4gICAgICAgICAgZGV2X25vdGU6ICdWZXJpZmljYXRpb24gZmFpbGVkIGJ1dCBhbGxvd2VkIHRocm91Z2ggZm9yIGRldmVsb3BtZW50IHRlc3RpbmcnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgXG4gICAgICAgICAgZXJyb3I6ICdXb3JsZCBJRCB2ZXJpZmljYXRpb24gZmFpbGVkJywgXG4gICAgICAgICAgZGV0YWlsczogdmVyaWZ5UmVzdWx0LFxuICAgICAgICAgIGhlbHA6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnICYmIHZlcmlmeVJlc3VsdC5jb2RlID09PSAnaW52YWxpZF9mb3JtYXQnIFxuICAgICAgICAgICAgPyAnVGhpcyBlcnJvciBvZnRlbiBvY2N1cnMgd2hlbiB0ZXN0aW5nIHdpdGggbW9jayBkYXRhLiBSZWFsIFdvcmxkIElEIHByb29mcyBmcm9tIHRoZSBRUiBzY2FuIHNob3VsZCBoYXZlIHRoZSBjb3JyZWN0IGZvcm1hdC4gU2V0IEFMTE9XX0ZBSUxFRF9WRVJJRklDQVRJT049dHJ1ZSBpbiAuZW52LmxvY2FsIHRvIGJ5cGFzcyBmb3IgdGVzdGluZy4nXG4gICAgICAgICAgICA6IHVuZGVmaW5lZFxuICAgICAgICB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHZlcmlmeWluZyBXb3JsZCBJRDonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBcbiAgICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gdmVyaWZ5IFdvcmxkIElEJywgXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InXG4gICAgICB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuXG4vLyBJbi1tZW1vcnkgc3RvcmFnZSBmb3IgZGVtbyAtIHVzZSBkYXRhYmFzZSBpbiBwcm9kdWN0aW9uXG5jb25zdCB1c2VkTnVsbGlmaWVycyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuXG5hc3luYyBmdW5jdGlvbiBjaGVja051bGxpZmllclVzYWdlKG51bGxpZmllckhhc2g6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICByZXR1cm4gdXNlZE51bGxpZmllcnMuaGFzKG51bGxpZmllckhhc2gpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBzdG9yZU51bGxpZmllckhhc2gobnVsbGlmaWVySGFzaDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gIHVzZWROdWxsaWZpZXJzLmFkZChudWxsaWZpZXJIYXNoKTtcbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJ2ZXJpZnlDbG91ZFByb29mIiwiUE9TVCIsInJlcXVlc3QiLCJwcm9vZiIsImpzb24iLCJjb25zb2xlIiwibG9nIiwiSlNPTiIsInN0cmluZ2lmeSIsIm51bGxpZmllcl9oYXNoIiwibWVya2xlX3Jvb3QiLCJ2ZXJpZmljYXRpb25fbGV2ZWwiLCJzaWduYWwiLCJoYXNQcm9vZiIsImhhc051bGxpZmllckhhc2giLCJoYXNNZXJrbGVSb290IiwiaGFzVmVyaWZpY2F0aW9uTGV2ZWwiLCJwcm9vZlR5cGUiLCJwcm9vZlZhbHVlIiwiQXJyYXkiLCJpc0FycmF5IiwiYWxsS2V5cyIsIk9iamVjdCIsImtleXMiLCJlcnJvciIsImRlYnVnIiwicHJvY2VzcyIsInJlY2VpdmVkIiwidW5kZWZpbmVkIiwic3RhdHVzIiwiYXBwX2lkIiwiZW52IiwiTkVYVF9QVUJMSUNfV09STERfQVBQX0lEIiwiYWN0aW9uIiwiTkVYVF9QVUJMSUNfV09STERfSURfQUNUSU9OIiwibGVuZ3RoIiwicHJvb2Zfc3RydWN0dXJlIiwic3Vic3RyaW5nIiwidmVyaWZ5UmVzdWx0Iiwic3VjY2VzcyIsImhhc0JlZW5Vc2VkIiwiY2hlY2tOdWxsaWZpZXJVc2FnZSIsInN0b3JlTnVsbGlmaWVySGFzaCIsInZlcmlmaWVkIiwiY29kZSIsImF0dHJpYnV0ZSIsImRldGFpbCIsInN0YXJ0c1dpdGgiLCJmb3JFYWNoIiwiZWxlbWVudCIsImluZGV4IiwiQUxMT1dfRkFJTEVEX1ZFUklGSUNBVElPTiIsImRldl9ub3RlIiwiZGV0YWlscyIsImhlbHAiLCJtZXNzYWdlIiwiRXJyb3IiLCJ1c2VkTnVsbGlmaWVycyIsIlNldCIsIm51bGxpZmllckhhc2giLCJoYXMiLCJhZGQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/verify-world-id/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/framer-motion","vendor-chunks/@worldcoin","vendor-chunks/ox","vendor-chunks/qrcode","vendor-chunks/@noble","vendor-chunks/@radix-ui","vendor-chunks/buffer","vendor-chunks/abitype","vendor-chunks/zustand","vendor-chunks/use-sync-external-store","vendor-chunks/dijkstrajs","vendor-chunks/base64-js","vendor-chunks/copy-to-clipboard","vendor-chunks/ieee754","vendor-chunks/browser-or-node","vendor-chunks/toggle-selection"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fverify-world-id%2Froute&page=%2Fapi%2Fverify-world-id%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fverify-world-id%2Froute.ts&appDir=%2FUsers%2Fethan%2FDesktop%2FH%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fethan%2FDesktop%2FH&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();