"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_src_lib_worldpay_ts";
exports.ids = ["_ssr_src_lib_worldpay_ts"];
exports.modules = {

/***/ "(ssr)/./src/lib/worldpay.ts":
/*!*****************************!*\
  !*** ./src/lib/worldpay.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   formatPaymentAmount: () => (/* binding */ formatPaymentAmount),\n/* harmony export */   generatePaymentReference: () => (/* binding */ generatePaymentReference),\n/* harmony export */   initiateWorldPayment: () => (/* binding */ initiateWorldPayment),\n/* harmony export */   subscribeToPaymentEvents: () => (/* binding */ subscribeToPaymentEvents)\n/* harmony export */ });\n/* harmony import */ var _worldcoin_minikit_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @worldcoin/minikit-js */ \"(ssr)/./node_modules/@worldcoin/minikit-js/build/index.js\");\n/**\n * World Pay Integration Utilities\n * Handles payment flows using MiniKit World Pay SDK\n */ \n/**\n * Initiates a payment using World Pay\n * @param amount Amount in USD (e.g., 7.40)\n * @param description Payment description\n * @param reference Unique reference for this payment\n * @returns Promise with payment result\n */ async function initiateWorldPayment(amount, description, reference) {\n    try {\n        // Check if MiniKit is installed (running in World App)\n        if (!_worldcoin_minikit_js__WEBPACK_IMPORTED_MODULE_0__.MiniKit.isInstalled()) {\n            console.warn(\"⚠️ MiniKit not installed - cannot process payment\");\n            return {\n                success: false,\n                error: \"World App is required to process payments. Please open this app in World App.\"\n            };\n        }\n        console.log(\"\\uD83D\\uDCB0 Initiating payment:\", {\n            amount,\n            description,\n            reference\n        });\n        // Create payment command\n        const payload = {\n            reference: reference,\n            to: \"0x0000000000000000000000000000000000000000\" || 0,\n            tokens: [\n                {\n                    symbol: _worldcoin_minikit_js__WEBPACK_IMPORTED_MODULE_0__.Tokens.WLD,\n                    token_amount: amount.toString()\n                },\n                {\n                    symbol: _worldcoin_minikit_js__WEBPACK_IMPORTED_MODULE_0__.Tokens.USDC,\n                    token_amount: amount.toString()\n                }\n            ],\n            description: description\n        };\n        console.log(\"\\uD83D\\uDCE4 Sending payment command:\", payload);\n        // Send payment command\n        const { finalPayload } = await _worldcoin_minikit_js__WEBPACK_IMPORTED_MODULE_0__.MiniKit.commandsAsync.pay(payload);\n        // Check if user confirmed the payment\n        if (finalPayload.status === \"success\") {\n            console.log(\"✅ Payment successful:\", finalPayload);\n            return {\n                success: true,\n                transactionId: finalPayload.transaction_id || reference\n            };\n        } else {\n            console.log(\"❌ Payment failed or cancelled:\", finalPayload);\n            return {\n                success: false,\n                error: finalPayload.status === \"error\" ? \"Payment failed\" : \"Payment cancelled by user\"\n            };\n        }\n    } catch (error) {\n        console.error(\"❌ Error processing payment:\", error);\n        return {\n            success: false,\n            error: error instanceof Error ? error.message : \"Unknown error occurred\"\n        };\n    }\n}\n/**\n * Subscribe to payment events\n * Useful for handling payment confirmations and updates\n */ function subscribeToPaymentEvents(onPaymentSuccess, onPaymentError) {\n    if (!_worldcoin_minikit_js__WEBPACK_IMPORTED_MODULE_0__.MiniKit.isInstalled()) {\n        console.warn(\"⚠️ MiniKit not installed - cannot subscribe to payment events\");\n        return;\n    }\n    // Subscribe to payment responses\n    _worldcoin_minikit_js__WEBPACK_IMPORTED_MODULE_0__.MiniKit.subscribe(_worldcoin_minikit_js__WEBPACK_IMPORTED_MODULE_0__.ResponseEvent.MiniAppPayment, async (payload)=>{\n        console.log(\"\\uD83D\\uDCE8 Payment event received:\", payload);\n        if (payload.status === \"success\") {\n            const transactionId = payload.transaction_id || \"unknown\";\n            onPaymentSuccess(transactionId);\n        } else {\n            const error = payload.status === \"error\" ? \"Payment failed\" : \"Payment cancelled\";\n            onPaymentError(error);\n        }\n    });\n}\n/**\n * Format payment amount for display\n */ function formatPaymentAmount(amount) {\n    return `$${amount.toFixed(2)}`;\n}\n/**\n * Generate a unique payment reference\n */ function generatePaymentReference(userId, type) {\n    const timestamp = Date.now();\n    return `${type}_${userId}_${timestamp}`;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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NDQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBXb3JsZCBQYXkgSW50ZWdyYXRpb24gVXRpbGl0aWVzXG4gKiBIYW5kbGVzIHBheW1lbnQgZmxvd3MgdXNpbmcgTWluaUtpdCBXb3JsZCBQYXkgU0RLXG4gKi9cblxuaW1wb3J0IHsgTWluaUtpdCwgUGF5Q29tbWFuZElucHV0LCBUb2tlbnMsIFJlc3BvbnNlRXZlbnQgfSBmcm9tICdAd29ybGRjb2luL21pbmlraXQtanMnXG5cbmV4cG9ydCBpbnRlcmZhY2UgUGF5bWVudFJlc3VsdCB7XG4gIHN1Y2Nlc3M6IGJvb2xlYW5cbiAgdHJhbnNhY3Rpb25JZD86IHN0cmluZ1xuICBlcnJvcj86IHN0cmluZ1xufVxuXG4vKipcbiAqIEluaXRpYXRlcyBhIHBheW1lbnQgdXNpbmcgV29ybGQgUGF5XG4gKiBAcGFyYW0gYW1vdW50IEFtb3VudCBpbiBVU0QgKGUuZy4sIDcuNDApXG4gKiBAcGFyYW0gZGVzY3JpcHRpb24gUGF5bWVudCBkZXNjcmlwdGlvblxuICogQHBhcmFtIHJlZmVyZW5jZSBVbmlxdWUgcmVmZXJlbmNlIGZvciB0aGlzIHBheW1lbnRcbiAqIEByZXR1cm5zIFByb21pc2Ugd2l0aCBwYXltZW50IHJlc3VsdFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5pdGlhdGVXb3JsZFBheW1lbnQoXG4gIGFtb3VudDogbnVtYmVyLFxuICBkZXNjcmlwdGlvbjogc3RyaW5nLFxuICByZWZlcmVuY2U6IHN0cmluZ1xuKTogUHJvbWlzZTxQYXltZW50UmVzdWx0PiB7XG4gIHRyeSB7XG4gICAgLy8gQ2hlY2sgaWYgTWluaUtpdCBpcyBpbnN0YWxsZWQgKHJ1bm5pbmcgaW4gV29ybGQgQXBwKVxuICAgIGlmICghTWluaUtpdC5pc0luc3RhbGxlZCgpKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBNaW5pS2l0IG5vdCBpbnN0YWxsZWQgLSBjYW5ub3QgcHJvY2VzcyBwYXltZW50JylcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogJ1dvcmxkIEFwcCBpcyByZXF1aXJlZCB0byBwcm9jZXNzIHBheW1lbnRzLiBQbGVhc2Ugb3BlbiB0aGlzIGFwcCBpbiBXb3JsZCBBcHAuJyxcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZygn8J+SsCBJbml0aWF0aW5nIHBheW1lbnQ6JywgeyBhbW91bnQsIGRlc2NyaXB0aW9uLCByZWZlcmVuY2UgfSlcblxuICAgIC8vIENyZWF0ZSBwYXltZW50IGNvbW1hbmRcbiAgICBjb25zdCBwYXlsb2FkOiBQYXlDb21tYW5kSW5wdXQgPSB7XG4gICAgICByZWZlcmVuY2U6IHJlZmVyZW5jZSxcbiAgICAgIHRvOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19QQVlNRU5UX1JFQ0lQSUVOVF9BRERSRVNTIHx8ICcweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnLCAvLyBSZXBsYWNlIHdpdGggeW91ciBtZXJjaGFudCBhZGRyZXNzXG4gICAgICB0b2tlbnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIHN5bWJvbDogVG9rZW5zLldMRCwgLy8gV29ybGQgdG9rZW5cbiAgICAgICAgICB0b2tlbl9hbW91bnQ6IGFtb3VudC50b1N0cmluZygpLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgc3ltYm9sOiBUb2tlbnMuVVNEQywgLy8gVVNEQ1xuICAgICAgICAgIHRva2VuX2Ftb3VudDogYW1vdW50LnRvU3RyaW5nKCksXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCfwn5OkIFNlbmRpbmcgcGF5bWVudCBjb21tYW5kOicsIHBheWxvYWQpXG5cbiAgICAvLyBTZW5kIHBheW1lbnQgY29tbWFuZFxuICAgIGNvbnN0IHsgZmluYWxQYXlsb2FkIH0gPSBhd2FpdCBNaW5pS2l0LmNvbW1hbmRzQXN5bmMucGF5KHBheWxvYWQpXG5cbiAgICAvLyBDaGVjayBpZiB1c2VyIGNvbmZpcm1lZCB0aGUgcGF5bWVudFxuICAgIGlmIChmaW5hbFBheWxvYWQuc3RhdHVzID09PSAnc3VjY2VzcycpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgUGF5bWVudCBzdWNjZXNzZnVsOicsIGZpbmFsUGF5bG9hZClcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIHRyYW5zYWN0aW9uSWQ6IGZpbmFsUGF5bG9hZC50cmFuc2FjdGlvbl9pZCB8fCByZWZlcmVuY2UsXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCfinYwgUGF5bWVudCBmYWlsZWQgb3IgY2FuY2VsbGVkOicsIGZpbmFsUGF5bG9hZClcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZmluYWxQYXlsb2FkLnN0YXR1cyA9PT0gJ2Vycm9yJyA/ICdQYXltZW50IGZhaWxlZCcgOiAnUGF5bWVudCBjYW5jZWxsZWQgYnkgdXNlcicsXG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBwcm9jZXNzaW5nIHBheW1lbnQ6JywgZXJyb3IpXG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3Igb2NjdXJyZWQnLFxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFN1YnNjcmliZSB0byBwYXltZW50IGV2ZW50c1xuICogVXNlZnVsIGZvciBoYW5kbGluZyBwYXltZW50IGNvbmZpcm1hdGlvbnMgYW5kIHVwZGF0ZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1YnNjcmliZVRvUGF5bWVudEV2ZW50cyhcbiAgb25QYXltZW50U3VjY2VzczogKHRyYW5zYWN0aW9uSWQ6IHN0cmluZykgPT4gdm9pZCxcbiAgb25QYXltZW50RXJyb3I6IChlcnJvcjogc3RyaW5nKSA9PiB2b2lkXG4pIHtcbiAgaWYgKCFNaW5pS2l0LmlzSW5zdGFsbGVkKCkpIHtcbiAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBNaW5pS2l0IG5vdCBpbnN0YWxsZWQgLSBjYW5ub3Qgc3Vic2NyaWJlIHRvIHBheW1lbnQgZXZlbnRzJylcbiAgICByZXR1cm5cbiAgfVxuXG4gIC8vIFN1YnNjcmliZSB0byBwYXltZW50IHJlc3BvbnNlc1xuICBNaW5pS2l0LnN1YnNjcmliZShSZXNwb25zZUV2ZW50Lk1pbmlBcHBQYXltZW50LCBhc3luYyAocGF5bG9hZCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCfwn5OoIFBheW1lbnQgZXZlbnQgcmVjZWl2ZWQ6JywgcGF5bG9hZClcblxuICAgIGlmIChwYXlsb2FkLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICBjb25zdCB0cmFuc2FjdGlvbklkID0gcGF5bG9hZC50cmFuc2FjdGlvbl9pZCB8fCAndW5rbm93bidcbiAgICAgIG9uUGF5bWVudFN1Y2Nlc3ModHJhbnNhY3Rpb25JZClcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZXJyb3IgPSBwYXlsb2FkLnN0YXR1cyA9PT0gJ2Vycm9yJyA/ICdQYXltZW50IGZhaWxlZCcgOiAnUGF5bWVudCBjYW5jZWxsZWQnXG4gICAgICBvblBheW1lbnRFcnJvcihlcnJvcilcbiAgICB9XG4gIH0pXG59XG5cbi8qKlxuICogRm9ybWF0IHBheW1lbnQgYW1vdW50IGZvciBkaXNwbGF5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRQYXltZW50QW1vdW50KGFtb3VudDogbnVtYmVyKTogc3RyaW5nIHtcbiAgcmV0dXJuIGAkJHthbW91bnQudG9GaXhlZCgyKX1gXG59XG5cbi8qKlxuICogR2VuZXJhdGUgYSB1bmlxdWUgcGF5bWVudCByZWZlcmVuY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlUGF5bWVudFJlZmVyZW5jZSh1c2VySWQ6IHN0cmluZywgdHlwZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgdGltZXN0YW1wID0gRGF0ZS5ub3coKVxuICByZXR1cm4gYCR7dHlwZX1fJHt1c2VySWR9XyR7dGltZXN0YW1wfWBcbn1cbiJdLCJuYW1lcyI6WyJNaW5pS2l0IiwiVG9rZW5zIiwiUmVzcG9uc2VFdmVudCIsImluaXRpYXRlV29ybGRQYXltZW50IiwiYW1vdW50IiwiZGVzY3JpcHRpb24iLCJyZWZlcmVuY2UiLCJpc0luc3RhbGxlZCIsImNvbnNvbGUiLCJ3YXJuIiwic3VjY2VzcyIsImVycm9yIiwibG9nIiwicGF5bG9hZCIsInRvIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1BBWU1FTlRfUkVDSVBJRU5UX0FERFJFU1MiLCJ0b2tlbnMiLCJzeW1ib2wiLCJXTEQiLCJ0b2tlbl9hbW91bnQiLCJ0b1N0cmluZyIsIlVTREMiLCJmaW5hbFBheWxvYWQiLCJjb21tYW5kc0FzeW5jIiwicGF5Iiwic3RhdHVzIiwidHJhbnNhY3Rpb25JZCIsInRyYW5zYWN0aW9uX2lkIiwiRXJyb3IiLCJtZXNzYWdlIiwic3Vic2NyaWJlVG9QYXltZW50RXZlbnRzIiwib25QYXltZW50U3VjY2VzcyIsIm9uUGF5bWVudEVycm9yIiwic3Vic2NyaWJlIiwiTWluaUFwcFBheW1lbnQiLCJmb3JtYXRQYXltZW50QW1vdW50IiwidG9GaXhlZCIsImdlbmVyYXRlUGF5bWVudFJlZmVyZW5jZSIsInVzZXJJZCIsInR5cGUiLCJ0aW1lc3RhbXAiLCJEYXRlIiwibm93Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/worldpay.ts\n");

/***/ })

};
;